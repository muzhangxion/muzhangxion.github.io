import{l as k,s as y,u as F,a5 as R,L as $,o as E,t as M,ab as G,y as m,A as r,M as i,G as d,H as b,C as p,a8 as z,a0 as A,a1 as D,B as f,I as h,S as _,Q as H,R as Q}from"./.store-NM9Rby3r.js";import{d as U,u as j,o as q,L}from"./index-DG3LsCGJ.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K={key:0,class:"layout-navbars-breadcrumb"},O={key:0,class:"layout-navbars-breadcrumb-span"},P={key:1},W={key:2},X=["onClick"],Y=k({name:"layoutBreadcrumb"}),Z=k({...Y,setup(ee){const B=U(),I=j(),{themeConfig:o}=y(I),{routesList:g}=y(B),u=F(),C=R(),e=$({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),w=E(()=>{c(u.path);const{layout:t,isBreadcrumb:a}=o.value;return t==="classic"||t==="transverse"?!1:!!a}),N=t=>{const{redirect:a,path:n}=t;a?C.push(a):C.push(n)},V=()=>{o.value.isCollapse=!o.value.isCollapse,x()},x=()=>{L.remove("themeConfig"),L.set("themeConfig",o.value)},S=t=>{t.forEach(a=>{e.routeSplit.forEach((n,v,l)=>{e.routeSplitFirst===a.path&&(e.routeSplitFirst+=`/${l[e.routeSplitIndex]}`,e.breadcrumbList.push(a),e.routeSplitIndex++,a.children&&S(a.children))})})},c=t=>{if(!o.value.isBreadcrumb)return!1;e.breadcrumbList=[g.value[0]],e.routeSplit=t.split("/"),e.routeSplit.shift(),e.routeSplitFirst=`/${e.routeSplit[0]}`,e.routeSplitIndex=1,S(g.value),(u.name==="home"||u.name==="notFound"&&e.breadcrumbList.length>1)&&e.breadcrumbList.shift(),e.breadcrumbList.length>0&&(e.breadcrumbList[e.breadcrumbList.length-1].meta.tagsViewName=q.setTagsViewNameI18n(u))};return M(()=>{c(u.path)}),G(t=>{c(t.path)}),(t,a)=>{const n=m("SvgIcon"),v=m("el-breadcrumb-item"),l=m("el-breadcrumb");return w.value?(r(),i("div",K,[d(n,{class:"layout-navbars-breadcrumb-icon",name:b(o).isCollapse?"ele-Expand":"ele-Fold",size:16,onClick:V},null,8,["name"]),d(l,{class:"layout-navbars-breadcrumb-hide"},{default:p(()=>[d(z,{name:"breadcrumb"},{default:p(()=>[(r(!0),i(A,null,D(e.breadcrumbList,(s,T)=>(r(),f(v,{key:s.meta.tagsViewName?s.meta.tagsViewName:s.meta.title},{default:p(()=>[T===e.breadcrumbList.length-1?(r(),i("span",O,[b(o).isBreadcrumbIcon?(r(),f(n,{key:0,name:s.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):h("",!0),s.meta.tagsViewName?(r(),i("div",W,_(s.meta.tagsViewName),1)):(r(),i("div",P,_(t.$t(s.meta.title)),1))])):(r(),i("a",{key:1,onClick:H(te=>N(s),["prevent"])},[b(o).isBreadcrumbIcon?(r(),f(n,{key:0,name:s.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):h("",!0),Q(_(t.$t(s.meta.title)),1)],8,X))]),_:2},1024))),128))]),_:1})]),_:1})])):h("",!0)}}}),oe=J(Z,[["__scopeId","data-v-1b17d545"]]);export{oe as default};
