const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/iframes-BJSoX90k.js","assets/js/.store-NM9Rby3r.js","assets/css/.store-BUMXTAWU.css"])))=>i.map(i=>d[i]);
import{c as C,u as I,e as p,S as x,_ as B}from"./index-DG3LsCGJ.js";import{l as K,u as P,a5 as D,s as h,L as E,o as m,p as M,n as _,t as S,w as U,x as O,y as j,A as l,M as F,G as o,C as f,U as d,B as w,D as R,F as y,_ as G,a9 as H,H as b,j as q}from"./.store-NM9Rby3r.js";const z={class:"layout-parent"},J=K({name:"layoutParentView"}),Y=K({...J,setup(Q){const V=q(()=>B(()=>import("./iframes-BJSoX90k.js"),__vite__mapDeps([0,1,2]))),t=P(),g=D(),A=C(),L=I(),{keepAliveNames:r,cachedViews:c}=h(A),{themeConfig:n}=h(L),e=E({refreshRouterViewKey:"",iframeRefreshKey:"",keepAliveNameList:[],iframeList:[]}),u=m(()=>n.value.animation),T=m(()=>n.value.isTagsview?c.value:e.keepAliveNameList),v=m(()=>t.meta.isIframe),k=async()=>{g.getRoutes().forEach(s=>{s.meta.isIframe&&(s.meta.isIframeOpen=!1,s.meta.loading=!0,e.iframeList.push({...s}))})};return M(()=>{e.keepAliveNameList=r.value,p.on("onTagsViewRefreshRouterView",s=>{e.keepAliveNameList=r.value.filter(a=>t.name!==a),e.refreshRouterViewKey="",e.iframeRefreshKey="",_(()=>{e.refreshRouterViewKey=s,e.iframeRefreshKey=s,e.keepAliveNameList=r.value})})}),S(()=>{k(),_(()=>{setTimeout(()=>{if(n.value.isCacheTagsView){let s=x.get("tagsViewList")||[];c.value=s.filter(a=>{var i;return(i=a.meta)==null?void 0:i.isKeepAlive}).map(a=>a.name)}},0)})}),U(()=>{p.off("onTagsViewRefreshRouterView",()=>{})}),O(()=>t.fullPath,()=>{e.refreshRouterViewKey=decodeURI(t.fullPath)},{immediate:!0}),(s,a)=>{const i=j("router-view");return l(),F("div",z,[o(i,null,{default:f(({Component:N})=>[o(d,{name:u.value,mode:"out-in"},{default:f(()=>[(l(),w(H,{include:T.value},[R((l(),w(G(N),{key:e.refreshRouterViewKey,class:"w100"})),[[y,!v.value]])],1032,["include"]))]),_:2},1032,["name"])]),_:1}),o(d,{name:u.value,mode:"out-in"},{default:f(()=>[R(o(b(V),{class:"w100",refreshKey:e.iframeRefreshKey,name:u.value,list:e.iframeList},null,8,["refreshKey","name","list"]),[[y,v.value]])]),_:1},8,["name"])])}}});export{Y as default};
